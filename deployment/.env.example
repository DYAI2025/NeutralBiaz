# BiazNeutralize AI - Environment Configuration Template
# Copy this file to .env and update with your values

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Environment (development, staging, production)
ENVIRONMENT=production

# Debug mode (true/false) - NEVER set to true in production
DEBUG=false

# Application secret key (generate with: python -c "import secrets; print(secrets.token_hex(32))")
SECRET_KEY=your-super-secret-key-here-change-this-in-production

# Application domain
DOMAIN_NAME=biazneutralize.example.com

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
LOG_LEVEL=info

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL Database
POSTGRES_DB=biazneutralize
POSTGRES_USER=postgres
POSTGRES_PASSWORD=change-this-secure-password
POSTGRES_HOST=postgres-service
POSTGRES_PORT=5432

# Database URL (constructed from above or set directly)
# DATABASE_URL=postgresql://postgres:password@host:5432/database

# Database Pool Settings
DATABASE_POOL_SIZE=20
DATABASE_POOL_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30

# ============================================================================
# CACHE CONFIGURATION (REDIS)
# ============================================================================

# Redis Configuration
REDIS_HOST=redis-service
REDIS_PORT=6379
REDIS_PASSWORD=change-this-redis-password
REDIS_DB=0

# Redis URL (constructed from above or set directly)
# REDIS_URL=redis://:password@host:6379/0

# Cache Settings
CACHE_DEFAULT_TIMEOUT=3600
CACHE_KEY_PREFIX=biazneutralize:

# ============================================================================
# CELERY CONFIGURATION (BACKGROUND TASKS)
# ============================================================================

# Celery Broker and Result Backend
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/1

# Celery Settings
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_WORKER_CONCURRENCY=4

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# CORS Settings (comma-separated URLs)
CORS_ORIGINS=https://biazneutralize.example.com,https://api.biazneutralize.example.com

# Allowed Hosts (comma-separated)
ALLOWED_HOSTS=biazneutralize.example.com,api.biazneutralize.example.com

# Security Headers
SECURE_SSL_REDIRECT=true
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=true
SECURE_HSTS_PRELOAD=true
SECURE_CONTENT_TYPE_NOSNIFF=true
SECURE_BROWSER_XSS_FILTER=true
SECURE_FRAME_DENY=true

# JWT Configuration
JWT_SECRET_KEY=${SECRET_KEY}
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
JWT_REFRESH_EXPIRATION_DAYS=30

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT=1000 per hour
RATE_LIMIT_API=100 per minute

# ============================================================================
# AI/ML MODEL CONFIGURATION
# ============================================================================

# Model Storage
MODEL_CACHE_DIR=/app/models
MODEL_CACHE_SIZE=5GB
ENABLE_MODEL_CACHING=true
MODEL_LOAD_TIMEOUT=300

# Spacy Models
SPACY_MODEL=en_core_web_sm
SPACY_MODELS=en_core_web_sm,de_core_news_sm

# Transformers Cache
TRANSFORMERS_CACHE=/app/models/transformers
TORCH_CACHE=/app/models/torch

# Processing Settings
ENABLE_GPU=false
BATCH_SIZE=32
MAX_SEQUENCE_LENGTH=512
MODEL_INFERENCE_TIMEOUT=30

# ============================================================================
# CLOUD STORAGE (AWS S3)
# ============================================================================

# AWS Configuration
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# S3 Storage
STORAGE_TYPE=s3
AWS_STORAGE_BUCKET_NAME=biazneutralize-storage
AWS_S3_CUSTOM_DOMAIN=cdn.biazneutralize.example.com
AWS_S3_USE_SSL=true
AWS_S3_FILE_OVERWRITE=false

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_S3_BUCKET=biazneutralize-backups
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# ============================================================================
# MONITORING AND LOGGING
# ============================================================================

# Sentry Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=${ENVIRONMENT}
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus Metrics
ENABLE_METRICS=true
METRICS_PORT=9090
PROMETHEUS_MULTIPROC_DIR=/tmp

# Logging Configuration
LOG_FORMAT=json
LOG_DESTINATION=stdout
LOG_RETENTION_DAYS=30

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_DETAILED_PATH=/health/detailed

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================

# SMTP Settings
MAIL_SERVER=smtp.example.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=noreply@biazneutralize.example.com
MAIL_PASSWORD=your-email-password
MAIL_DEFAULT_SENDER=noreply@biazneutralize.example.com

# Email Templates
EMAIL_TEMPLATE_DIR=/app/templates/email

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================

# React App Environment Variables
REACT_APP_API_URL=https://api.biazneutralize.example.com
REACT_APP_ENVIRONMENT=${ENVIRONMENT}
REACT_APP_SENTRY_DSN=https://your-frontend-sentry-dsn@sentry.io/project-id
REACT_APP_ANALYTICS_ID=your-analytics-id
REACT_APP_FEATURE_FLAGS=feature1,feature2

# Build Configuration
GENERATE_SOURCEMAP=false
REACT_APP_VERSION=1.0.0

# ============================================================================
# DOCKER CONFIGURATION
# ============================================================================

# Docker Build Arguments
BUILD_DATE=$(date -u +'%Y-%m-%dT%H:%M:%SZ')
VERSION=latest
VCS_REF=$(git rev-parse HEAD)

# Docker Registry
DOCKER_REGISTRY=ghcr.io
IMAGE_NAME_BACKEND=biazneutralize/backend
IMAGE_NAME_FRONTEND=biazneutralize/frontend

# ============================================================================
# KUBERNETES CONFIGURATION
# ============================================================================

# Kubernetes Namespace
KUBERNETES_NAMESPACE=biazneutralize
KUBERNETES_SERVICE_ACCOUNT=biazneutralize-app
KUBERNETES_CLUSTER_NAME=biazneutralize-production

# Resource Limits
MEMORY_LIMIT=2Gi
CPU_LIMIT=1000m
DISK_SPACE_LIMIT=10Gi
CONCURRENT_REQUESTS=1000

# ============================================================================
# MONITORING SERVICES
# ============================================================================

# Grafana Configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change-this-grafana-password
GRAFANA_PORT=3001

# Prometheus Configuration
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION=15d

# Flower (Celery Monitoring)
FLOWER_USER=admin
FLOWER_PASSWORD=change-this-flower-password
FLOWER_PORT=5555

# ============================================================================
# DEVELOPMENT SETTINGS (Ignore in Production)
# ============================================================================

# Development Database (SQLite)
# DEV_DATABASE_URL=sqlite:///./dev.db

# Development Cache (Local)
# DEV_CACHE_TYPE=simple

# Development Email (Console)
# DEV_MAIL_BACKEND=console

# Test Data
ENABLE_TEST_DATA=false
TEST_USER_EMAIL=test@biazneutralize.example.com

# ============================================================================
# COMPLIANCE AND PRIVACY
# ============================================================================

# GDPR Compliance
GDPR_COMPLIANCE_ENABLED=true
DATA_RETENTION_DAYS=2555
USER_DATA_EXPORT_ENABLED=true
USER_DATA_DELETION_ENABLED=true

# CCPA Compliance
CCPA_COMPLIANCE_ENABLED=true
PRIVACY_POLICY_URL=https://biazneutralize.example.com/privacy
TERMS_OF_SERVICE_URL=https://biazneutralize.example.com/terms

# Audit Settings
AUDIT_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555

# ============================================================================
# PERFORMANCE SETTINGS
# ============================================================================

# Gunicorn/Uvicorn Settings
WORKERS=4
WORKER_CLASS=uvicorn.workers.UvicornWorker
WORKER_CONNECTIONS=1000
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100
TIMEOUT=30
KEEPALIVE=2

# Connection Pool Settings
CONNECTION_POOL_SIZE=20
CONNECTION_POOL_MAX_OVERFLOW=30
CONNECTION_POOL_TIMEOUT=30

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Feature Toggles
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_MULTI_LANGUAGE=true
FEATURE_BATCH_PROCESSING=true
FEATURE_API_V2=false

# Experimental Features
ENABLE_EXPERIMENTAL_MODELS=false
ENABLE_BETA_FEATURES=false

# ============================================================================
# NOTES
# ============================================================================

# Remember to:
# 1. Change all default passwords and secret keys
# 2. Set appropriate values for your environment
# 3. Keep this file secure and never commit secrets to version control
# 4. Use environment-specific values for staging/production
# 5. Consider using a secrets manager for sensitive values