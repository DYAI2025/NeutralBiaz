# BiasNeutralizeAI - Frontend-Backend Integration Guide\n\n## üöÄ Integration Overview\n\nThis document describes the complete integration between the React frontend and FastAPI backend for the BiasNeutralizeAI application.\n\n## ‚úÖ Completed Integration Features\n\n### 1. API Service Layer (`src/services/api.ts`)\n- **Unified API client** with axios for all backend communication\n- **Error handling & retries** with exponential backoff\n- **Request/response interceptors** for auth and logging\n- **Type-safe interfaces** matching FastAPI schemas\n- **Legacy compatibility** for existing components\n\n### 2. React Query Integration (`src/hooks/useBiasDetection.ts`)\n- **Optimistic updates** for improved UX\n- **Smart caching** with configurable TTL\n- **Background refetching** for real-time data\n- **Error boundaries** with custom error handling\n- **Prefetching** for performance optimization\n\n### 3. Enhanced Components\n\n#### BiasHeatmap (`src/components/Dashboard/BiasHeatmap.tsx`)\n- ‚úÖ Real-time data binding from FastAPI\n- ‚úÖ Support for both new and legacy data formats\n- ‚úÖ Loading states and error handling\n- ‚úÖ Enhanced bias highlighting with severity colors\n- ‚úÖ Click handlers for marker selection\n\n#### MarkerExplorer (`src/components/Dashboard/MarkerExplorer.tsx`)\n- ‚úÖ Direct integration with bias detection results\n- ‚úÖ Advanced filtering and sorting capabilities\n- ‚úÖ Real-time marker display with confidence scores\n- ‚úÖ Suggestion management and cultural context\n- ‚úÖ Performance optimized with memoization\n\n#### SideBySideComparison (`src/components/Dashboard/SideBySideComparison.tsx`)\n- ‚úÖ Neutralized text from backend API\n- ‚úÖ Copy-to-clipboard functionality\n- ‚úÖ Bias reduction metrics calculation\n- ‚úÖ Adaptive UI based on available data\n- ‚úÖ Loading and error states\n\n#### AnalysisPage (`src/pages/AnalysisPage.tsx`)\n- ‚úÖ Complete workflow integration\n- ‚úÖ Advanced configuration options\n- ‚úÖ Real-time progress tracking\n- ‚úÖ Error recovery mechanisms\n- ‚úÖ Performance monitoring\n\n### 4. Type Safety (`src/types/api.ts`)\n- ‚úÖ **FastAPI schema alignment** with Pydantic models\n- ‚úÖ **Enum definitions** for bias types, levels, modes\n- ‚úÖ **Request/response interfaces** for all endpoints\n- ‚úÖ **Backward compatibility** with legacy types\n\n### 5. Error Handling (`src/components/ErrorBoundary.tsx`)\n- ‚úÖ **Global error boundaries** for component crashes\n- ‚úÖ **Query-specific error handling** for API failures\n- ‚úÖ **User-friendly error messages** with recovery options\n- ‚úÖ **Development mode debugging** with stack traces\n\n### 6. Testing Infrastructure\n- ‚úÖ **Integration tests** with MSW (Mock Service Worker)\n- ‚úÖ **End-to-end workflow testing**\n- ‚úÖ **Performance monitoring** and benchmarks\n- ‚úÖ **Automated test runner** for CI/CD\n\n## üîß Development Setup\n\n### Prerequisites\n```bash\n# Backend (FastAPI)\ncd bias-engine\npython -m venv venv\nsource venv/bin/activate  # or `venv\\Scripts\\activate` on Windows\npip install -r requirements.txt\n\n# Frontend (React)\ncd bias-dashboard\nnpm install\n```\n\n### Running the Application\n\n1. **Start Backend**:\n   ```bash\n   cd bias-engine\n   python -m uvicorn bias_engine.main:app --host 0.0.0.0 --port 8000 --reload\n   ```\n\n2. **Start Frontend**:\n   ```bash\n   cd bias-dashboard\n   npm run dev\n   ```\n\n3. **Access Application**:\n   - Frontend: http://localhost:3000\n   - Backend API: http://localhost:8000\n   - API Docs: http://localhost:8000/docs\n\n### Testing Integration\n\n```bash\n# Run integration tests\nnpm run test:integration\n\n# Run unit tests\nnpm test\n\n# Run with coverage\nnpm run test:coverage\n```\n\n## üìä API Endpoints\n\n### Core Analysis\n- `POST /api/v1/analyze` - Single text analysis\n- `POST /api/v1/analyze/batch` - Batch text analysis\n\n### System Info\n- `GET /api/v1/health` - Health check\n- `GET /api/v1/config` - System configuration\n- `GET /api/v1/models` - Available models\n\n## üéØ Data Flow\n\n```\nUser Input (React) \n    ‚Üì\nAPI Service Layer (axios + React Query)\n    ‚Üì\nFastAPI Backend (Pydantic validation)\n    ‚Üì\nML Processing (bias detection)\n    ‚Üì\nStructured Response (JSON)\n    ‚Üì\nReact Components (real-time updates)\n    ‚Üì\nUser Interface (interactive results)\n```\n\n## üö® Error Handling Strategy\n\n### Frontend Resilience\n1. **Network Errors**: Automatic retries with exponential backoff\n2. **Validation Errors**: User-friendly form feedback\n3. **Server Errors**: Graceful degradation with error boundaries\n4. **Rate Limiting**: Automatic retry after delay\n5. **Timeout Handling**: Progressive timeout with user notification\n\n### Backend Error Responses\n```typescript\n// Standard error format\n{\n  \"detail\": \"Human-readable error message\",\n  \"error_code\": \"ANALYSIS_FAILED\",\n  \"validation_errors\": [...] // For 400 errors\n}\n```\n\n## ‚ö° Performance Optimizations\n\n### Frontend\n- **Component lazy loading** for faster initial render\n- **Request deduplication** to prevent duplicate API calls\n- **Smart caching** with React Query\n- **Optimistic updates** for immediate feedback\n- **Background prefetching** for anticipated requests\n\n### Backend Integration\n- **Connection pooling** for database efficiency\n- **Response compression** for faster data transfer\n- **Caching headers** for browser optimization\n- **Streaming responses** for large datasets\n\n## üîí Security Considerations\n\n### Request Security\n- Input validation on both frontend and backend\n- XSS protection with proper escaping\n- CSRF protection with tokens\n- Rate limiting to prevent abuse\n\n### Data Privacy\n- No persistent storage of analyzed text\n- Secure transmission with HTTPS\n- Anonymized error logging\n- GDPR-compliant data handling\n\n## üìà Monitoring & Analytics\n\n### Performance Metrics\n- API response times\n- Component render performance\n- Error rates and types\n- User engagement patterns\n\n### Health Checks\n- Backend service availability\n- Database connectivity\n- ML model status\n- Resource utilization\n\n## üîÆ Future Enhancements\n\n### Planned Features\n- [ ] Real-time collaboration\n- [ ] Advanced analytics dashboard\n- [ ] Custom bias model training\n- [ ] Multi-language support expansion\n- [ ] Advanced export formats\n\n### Technical Improvements\n- [ ] GraphQL integration for flexible queries\n- [ ] WebSocket support for real-time updates\n- [ ] Progressive Web App (PWA) capabilities\n- [ ] Advanced caching strategies\n- [ ] Microservice architecture migration\n\n## üõ†Ô∏è Troubleshooting\n\n### Common Issues\n\n1. **CORS Errors**:\n   ```bash\n   # Backend: Ensure CORS is properly configured\n   # Check bias_engine/main.py for CORS middleware\n   ```\n\n2. **Type Errors**:\n   ```bash\n   # Run type checking\n   npm run type-check\n   ```\n\n3. **API Connection Issues**:\n   ```bash\n   # Check backend health\n   curl http://localhost:8000/api/v1/health\n   ```\n\n4. **Build Errors**:\n   ```bash\n   # Clear cache and rebuild\n   rm -rf node_modules/.vite\n   npm run build\n   ```\n\n### Debug Mode\n```bash\n# Enable verbose logging\nVERBOSE=1 npm run dev\n\n# Run with debug flags\nDEBUG=true npm run test:integration\n```\n\n## ü§ù Contributing\n\nWhen contributing to the integration:\n\n1. **Update both frontend and backend** when changing API interfaces\n2. **Add tests** for new integration points\n3. **Update types** when modifying data structures\n4. **Test error scenarios** thoroughly\n5. **Document breaking changes** in pull requests\n\n## üìö Additional Resources\n\n- [FastAPI Documentation](https://fastapi.tiangolo.com/)\n- [React Query Guide](https://tanstack.com/query/latest)\n- [Vite Configuration](https://vitejs.dev/config/)\n- [Vitest Testing](https://vitest.dev/)\n- [MSW Documentation](https://mswjs.io/)\n\n---\n\n**Status**: ‚úÖ Production Ready  \n**Last Updated**: December 2, 2024  \n**Integration Version**: 1.0.0\n