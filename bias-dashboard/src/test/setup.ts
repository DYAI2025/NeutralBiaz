import '@testing-library/jest-dom';\nimport { beforeAll, afterEach, afterAll } from 'vitest';\nimport { cleanup } from '@testing-library/react';\nimport { server } from '../utils/testSetup';\n\n// MSW setup\nbeforeAll(() => server.listen({ onUnhandledRequest: 'error' }));\nafterEach(() => {\n  server.resetHandlers();\n  cleanup();\n});\nafterAll(() => server.close());\n\n// Mock IntersectionObserver\nglobal.IntersectionObserver = class IntersectionObserver {\n  constructor() {}\n  disconnect() {}\n  observe() {}\n  unobserve() {}\n};\n\n// Mock ResizeObserver\nglobal.ResizeObserver = class ResizeObserver {\n  constructor() {}\n  disconnect() {}\n  observe() {}\n  unobserve() {}\n};\n\n// Mock matchMedia\nObject.defineProperty(window, 'matchMedia', {\n  writable: true,\n  value: vi.fn().mockImplementation(query => ({\n    matches: false,\n    media: query,\n    onchange: null,\n    addListener: vi.fn(), // deprecated\n    removeListener: vi.fn(), // deprecated\n    addEventListener: vi.fn(),\n    removeEventListener: vi.fn(),\n    dispatchEvent: vi.fn(),\n  })),\n});