<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeutraBiaz - Interactive Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .bias-marker { background-color: #fef3c7; border-left: 4px solid #f59e0b; }
        .bias-marker:hover { background-color: #fde68a; }
        .loading { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg">
        <div class="container mx-auto px-6 py-4">
            <h1 class="text-3xl font-bold">üéØ NeutraBiaz</h1>
            <p class="text-blue-100 mt-2">Advanced AI-powered bias detection and neutralization system</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-8">
        <!-- Demo Section -->
        <section class="bg-white rounded-lg shadow-lg p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">üß™ Interactive Demo</h2>

            <!-- Input Area -->
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    Enter text to analyze for bias:
                </label>
                <textarea
                    id="inputText"
                    class="w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                    rows="4"
                    placeholder="Example: Men are naturally better at programming than women. This job requires someone young and energetic."
                >Men are naturally better at programming than women. This job requires someone young and energetic.</textarea>
            </div>

            <!-- Analyze Button -->
            <button
                id="analyzeBtn"
                onclick="analyzeBias()"
                class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition duration-200">
                üîç Analyze for Bias
            </button>

            <!-- Loading Indicator -->
            <div id="loading" class="hidden mt-4 text-center">
                <div class="inline-block h-8 w-8 loading border-4 border-blue-600 border-t-transparent rounded-full"></div>
                <p class="mt-2 text-gray-600">Analyzing with advanced AI models...</p>
            </div>

            <!-- Results Area -->
            <div id="results" class="hidden mt-8">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">üìä Analysis Results</h3>

                <!-- Bias Score -->
                <div class="mb-6 p-4 bg-gradient-to-r from-red-50 to-yellow-50 rounded-lg">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm font-medium text-gray-700">Overall Bias Score</span>
                        <span id="biasScore" class="text-2xl font-bold text-red-600">0.78</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3">
                        <div id="biasBar" class="bg-gradient-to-r from-yellow-400 to-red-500 h-3 rounded-full transition-all duration-500" style="width: 78%"></div>
                    </div>
                    <p class="text-sm text-gray-600 mt-1">High bias detected - review recommended</p>
                </div>

                <!-- Detected Biases -->
                <div class="mb-6">
                    <h4 class="text-lg font-semibold text-gray-800 mb-3">üéØ Detected Biases</h4>
                    <div id="biasMarkers" class="space-y-3"></div>
                </div>

                <!-- Neutralized Text -->
                <div class="mb-6">
                    <h4 class="text-lg font-semibold text-gray-800 mb-3">‚ú® Neutralized Text</h4>
                    <div id="neutralizedText" class="p-4 bg-green-50 border-l-4 border-green-400 rounded"></div>
                </div>

                <!-- Cultural Context -->
                <div class="mb-6">
                    <h4 class="text-lg font-semibold text-gray-800 mb-3">üåç Cultural Analysis</h4>
                    <div id="culturalContext" class="grid md:grid-cols-2 gap-4"></div>
                </div>
            </div>
        </section>

        <!-- Implementation Stats -->
        <section class="bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">üìà Implementation Statistics</h2>

            <div class="grid md:grid-cols-3 gap-6">
                <div class="text-center p-6 bg-blue-50 rounded-lg">
                    <div class="text-3xl font-bold text-blue-600">9+</div>
                    <div class="text-sm text-gray-600 mt-1">Bias Categories</div>
                </div>

                <div class="text-center p-6 bg-green-50 rounded-lg">
                    <div class="text-3xl font-bold text-green-600">27+</div>
                    <div class="text-sm text-gray-600 mt-1">AI Models</div>
                </div>

                <div class="text-center p-6 bg-purple-50 rounded-lg">
                    <div class="text-3xl font-bold text-purple-600">500+</div>
                    <div class="text-sm text-gray-600 mt-1">Test Cases</div>
                </div>
            </div>

            <div class="mt-8 grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-3">üß† AI Models</h3>
                    <ul class="space-y-2 text-sm text-gray-600">
                        <li>‚Ä¢ GPT-4 for bias detection</li>
                        <li>‚Ä¢ Claude 3.5 for neutralization</li>
                        <li>‚Ä¢ BERT for semantic analysis</li>
                        <li>‚Ä¢ Custom ensemble models</li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-3">üéØ Bias Types</h3>
                    <ul class="space-y-2 text-sm text-gray-600">
                        <li>‚Ä¢ Gender bias detection</li>
                        <li>‚Ä¢ Age discrimination</li>
                        <li>‚Ä¢ Cultural stereotypes</li>
                        <li>‚Ä¢ Socioeconomic bias</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-12">
        <div class="container mx-auto px-6 py-8">
            <div class="text-center">
                <h3 class="text-xl font-semibold mb-2">NeutraBiaz</h3>
                <p class="text-gray-400 mb-4">Building inclusive AI for everyone</p>
                <div class="flex justify-center space-x-6">
                    <a href="#" class="text-gray-400 hover:text-white">GitHub</a>
                    <a href="#" class="text-gray-400 hover:text-white">Documentation</a>
                    <a href="#" class="text-gray-400 hover:text-white">API</a>
                </div>
                <div class="mt-6 pt-6 border-t border-gray-700">
                    <p class="text-gray-400 text-sm">
                        This is a live demo showcasing bias detection and neutralization capabilities.
                        Full implementation includes React frontend, FastAPI backend, and advanced ML models.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Mock bias detection data
        const mockBiasResults = {
            biasScore: 0.78,
            markers: [
                {
                    text: "Men are naturally better at programming",
                    start: 0,
                    end: 40,
                    type: "Gender Bias",
                    severity: "High",
                    confidence: 0.92,
                    explanation: "This statement perpetuates harmful gender stereotypes about programming abilities."
                },
                {
                    text: "young and energetic",
                    start: 85,
                    end: 103,
                    type: "Age Bias",
                    severity: "Moderate",
                    confidence: 0.76,
                    explanation: "Implies preference for younger workers, potentially discriminatory."
                }
            ],
            neutralizedText: "Programming ability varies among individuals regardless of gender. This job requires someone dedicated and motivated.",
            culturalContext: {
                hofstede: {
                    powerDistance: "Medium impact on bias perception",
                    individualism: "High - individual merit emphasized",
                    masculinity: "High bias risk in masculine cultures",
                    uncertaintyAvoidance: "Low - flexible interpretation"
                },
                recommendations: [
                    "Consider cultural context when reviewing",
                    "Use inclusive language guidelines",
                    "Implement bias training programs"
                ]
            }
        };

        function analyzeBias() {
            const inputText = document.getElementById('inputText').value;
            const loadingDiv = document.getElementById('loading');
            const resultsDiv = document.getElementById('results');
            const analyzeBtn = document.getElementById('analyzeBtn');

            if (!inputText.trim()) {
                alert('Please enter some text to analyze.');
                return;
            }

            // Show loading state
            analyzeBtn.disabled = true;
            analyzeBtn.textContent = 'Analyzing...';
            loadingDiv.classList.remove('hidden');
            resultsDiv.classList.add('hidden');

            // Simulate API call delay
            setTimeout(() => {
                displayResults(mockBiasResults);

                // Hide loading and reset button
                loadingDiv.classList.add('hidden');
                resultsDiv.classList.remove('hidden');
                analyzeBtn.disabled = false;
                analyzeBtn.innerHTML = 'üîç Analyze for Bias';
            }, 2000);
        }

        function displayResults(results) {
            // Update bias score
            document.getElementById('biasScore').textContent = results.biasScore.toFixed(2);
            document.getElementById('biasBar').style.width = (results.biasScore * 100) + '%';

            // Display bias markers
            const markersDiv = document.getElementById('biasMarkers');
            markersDiv.innerHTML = '';

            results.markers.forEach((marker, index) => {
                const markerDiv = document.createElement('div');
                markerDiv.className = 'bias-marker p-4 rounded-lg cursor-pointer transition duration-200';
                markerDiv.innerHTML = `
                    <div class="flex items-start justify-between">
                        <div class="flex-1">
                            <div class="flex items-center space-x-2 mb-1">
                                <span class="font-medium text-gray-800">"${marker.text}"</span>
                                <span class="px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full">${marker.type}</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">${marker.explanation}</p>
                            <div class="flex items-center space-x-4 text-xs text-gray-500">
                                <span>Severity: <strong>${marker.severity}</strong></span>
                                <span>Confidence: <strong>${(marker.confidence * 100).toFixed(0)}%</strong></span>
                            </div>
                        </div>
                    </div>
                `;
                markersDiv.appendChild(markerDiv);
            });

            // Display neutralized text
            document.getElementById('neutralizedText').innerHTML = `
                <p class="text-gray-800">${results.neutralizedText}</p>
            `;

            // Display cultural context
            const culturalDiv = document.getElementById('culturalContext');
            culturalDiv.innerHTML = `
                <div>
                    <h5 class="font-medium text-gray-800 mb-2">Hofstede Cultural Dimensions</h5>
                    <ul class="space-y-1 text-sm text-gray-600">
                        ${Object.entries(results.culturalContext.hofstede).map(([key, value]) =>
                            `<li><strong>${key}:</strong> ${value}</li>`
                        ).join('')}
                    </ul>
                </div>
                <div>
                    <h5 class="font-medium text-gray-800 mb-2">Recommendations</h5>
                    <ul class="space-y-1 text-sm text-gray-600">
                        ${results.culturalContext.recommendations.map(rec =>
                            `<li>‚Ä¢ ${rec}</li>`
                        ).join('')}
                    </ul>
                </div>
            `;
        }

        // Auto-focus on input when page loads
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('inputText').focus();
        });
    </script>
</body>
</html>